/*!
 * @name            jQuery Shadow Animation Plugin
 * @version         1.5
 * @author          Edwin Martin <edwin@bitstorm.org>
 * @copyright       Copyright (c) 2011
 * @website         http://www.bitstorm.org/jquery/shadow-animation/

  Released under the MIT and GPL licenses.
*/
jQuery(function(f,j){function k(){var a=f('script:first'),b=a.css('color'),c=false;if(/^rgba/.test(b)){c=true}else{try{c=(b!=a.css('color','rgba(0, 0, 0, 0.5)').css('color'));a.css('color',b)}catch(e){}}return c}f.extend(true,f,{support:{'rgba':k()}});var g;f.each(['boxShadow','MozBoxShadow','WebkitBoxShadow'],function(a,b){var c=f('html').css(b);if(typeof c=='string'&&c!=''){g=b;return false}});if(g){f.fx.step['boxShadow']=function(a){if(!a.init){a.begin=i(f(a.elem).css(g));a.end=f.extend({},a.begin,i(a.options.curAnim['boxShadow']));if(a.begin.color==j){a.begin.color=a.end.color||[0,0,0]}a.init=true}a.elem.style[g]=l(a.begin,a.end,a.pos)}}function l(a,b,c){var d=[];if(a.inset){d.push('inset')}if(typeof b.left!='undefined'){d.push(parseInt(a.left+c*(b.left-a.left),10)+'px '+parseInt(a.top+c*(b.top-a.top),10)+'px')}if(typeof b.blur!='undefined'){d.push(parseInt(a.blur+c*(b.blur-a.blur),10)+'px')}if(typeof b.spread!='undefined'){d.push(parseInt(a.spread+c*(b.spread-a.spread),10)+'px')}if(typeof b.color!='undefined'){var h='rgb'+(f.support['rgba']?'a':'')+'('+parseInt((a.color[0]+c*(b.color[0]-a.color[0])),10)+','+parseInt((a.color[1]+c*(b.color[1]-a.color[1])),10)+','+parseInt((a.color[2]+c*(b.color[2]-a.color[2])),10);if(f.support['rgba']){h+=','+parseFloat(a.color[3]+c*(b.color[3]-a.color[3]))}h+=')';d.push(h)}return d.join(' ')}function i(a){var b,c,d={};if(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a)){c=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]}else if(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a)){c=[parseInt(b[1],16)*17,parseInt(b[2],16)*17,parseInt(b[3],16)*17,1]}else if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){c=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),1]}else if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([01\.]*)\s*\)/.exec(a)){c=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])]}if(b=/(-?[0-9]+)(?:px)?\s+(-?[0-9]+)(?:px)?(?:\s+(-?[0-9]+)(?:px)?)?(?:\s+(-?[0-9]+)(?:px)?)?/.exec(a)){d={left:parseInt(b[1],10),top:parseInt(b[2],10),blur:b[3]?parseInt(b[3],10):0,spread:b[4]?parseInt(b[4],10):0}}else{d={left:0,top:0,blur:0,spread:0}}d.inset=/inset/.test(a);d.color=c;return d}});
